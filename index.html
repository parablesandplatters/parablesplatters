<!DOCTYPE html>

<html lang="en">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Parables & Platters</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <link rel="icon" href="01. images/jesuslogo_enef.png" type="image/x-icon">

    <style>

        body {

            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            text-align: center;
            animation: glow 1.5s infinite alternate;

        }

        header {

            background: #e3c5a3;
            width: 100%;
            padding: 14px;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1000;

        }

        .bodylogoimage {

            position: fixed;
            width: 15%;
            bottom: 0;
            right: 0;
            margin-right: 40px;
            margin-bottom: 105px;
            border: 10px solid #e3c5a3;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            z-index: 1000;

        }

        .header-link {

            text-decoration: none; 
            color: inherit; 

        }

        .header-link img {

            width: 15%;

        }

        .header-link {

            text-decoration: none; 
            color: inherit; 

        }

        .header-link:hover {

            cursor: pointer; 

        }

        h1 {

            font-size: 45px;
            text-align: center;

        }

        footer {

            background: #e3c5a3;
            color: black;
            width: 80%;
            padding: 10px;
            position: relative;
            bottom: 0;
            left: 0;

        }

        .menu {

            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 230px;
            margin-bottom: 70px;
            font-size: 20px;
            color: black;
            animation: none;

        }

        .menu-item {

            background: #e3c5a3;
            border-radius: 10px;
            margin: 25px;
            padding: 20px;
            width: 270px;
            transition: transform 0.3s;

        }

        .menu-item:hover {

            transform: scale(1.05);

        }

        .price {

            color: green; /* Makes the price text green */
            font-weight: bold; /* Optional: Make the price text bold */

        }


        img {

            width: 100%;
            height: 200px;
            border-radius: 10px;

        }

        button {

            background: #3cd3de;
            color: black;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s;
            font-size: 22px;

        }

        button:hover {

            background: #3cd3de79;

        }

        .menupage {

            background: #e3c5a3;
            width: 10%;
            padding: 10px;
            position: fixed;
            bottom: 0;
            right: 0;
            margin-right: 40px;
            margin-bottom: 30px;
            color: black;
            font-size: 15px;

        }

        .menupage:hover {

            background: #e3c5a379;

        }

        .popup {

            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.9);
            color: #000;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
            z-index: 1001;
            text-align: left;
            width: 500px;
            height: 500px;
            overflow-y: auto; /* Add scroll when content overflows */

        }

        .close-btn {

            position: absolute;
            top: 10px;
            right: 10px;
            background: none;
            border: none;
            font-size: 20px;
            color: #333;
            cursor: pointer;

        }

        .close-btn:hover {

            color: #e3c5a3;

        }

        .popup input,
        .popup textarea {

            width: 80%;
            padding: 10px;
            margin: 5px 0;
            border: 1px solid #ccc;
            border-radius: 5px;

        }

        .popup button {

            color: black;
            background: #3cd3de;
            margin-top: 10px;

        }

        .popup.failure {

            background: #f8d7da;

        }

        .popup.success {

            background: #d4edda;

        }

        #backToTop {

            background: #e3c5a3;
            position: fixed;
            width: 10%;
            bottom: 0;
            right: 0;
            margin-right: 200px;
            margin-bottom: 30px;
            box-shadow: 0 -1px 20px #ffefcb80;
            display: none;
            color: black;
            border: none;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 15px;
            z-index: 1000;

        }

        #backToTop:hover {

            background-color: #e3c5a379;

        }

        /* Style for the dropdown labels */
        label {

            font-size: 16px;
            font-weight: bold;
            margin-bottom: 8px;
            display: block;
            color: #333;

        }

        /* Style for the dropdowns (Company and Time) */
        select {

            width: 100%;
            padding: 8px;
            font-size: 16px;
            border: 2px solid #ccc;
            border-radius: 4px;
            background-color: #f9f9f9;
            color: #333;
            margin-bottom: 16px;
            transition: border-color 0.3s ease, background-color 0.3s ease;

        }

        /* Focus state for dropdowns */
        select:focus {

            border-color: #007bff;
            background-color: #e7f3ff;
            outline: none;

        }

        /* Error message style */
        .error-message {

            font-size: 14px;
            color: red;
            display: none;

        }

        /* Style for the submit button */
        button[type="submit"] {
            
            padding: 12px 20px;
            background-color: #007bff;
            color: white;
            font-size: 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;

        }

        /* Hover effect for submit button */
        button[type="submit"]:hover {

            background-color: #0056b3;

        }

        /* Style for cancel button */
        button[type="button"] {

            padding: 12px 20px;
            background-color: #f44336;
            color: white;
            font-size: 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;

        }

        /* Hover effect for cancel button */
        button[type="button"]:hover {

            background-color: #d32f2f;

        }

        @media (max-width: 768px) {

            body {

                font-family: 'Arial', sans-serif;
                margin: 0;
                padding: 0;
                background-color: white;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                min-height: 100vh;
                text-align: center;
                animation: glow 1.5s infinite alternate;

            }

            .bodylogoimage {

                display: none;

            }

            header {

                background: #e3c5a3;
                width: 100%;
                padding: 15px;
                position: fixed;
                top: 0;
                left: 0;
                z-index: 1000;
                box-shadow: 0 0 20px rgba(255, 255, 255, 0.3);

            }
            
            .header-link img {

                width: 170px;
                margin-right: 33px;
                margin-top: -22px;

            }

            footer {

                background: #e3c5a3;
                width: 80%;
                padding: 10px;
                position: relative;
                bottom: 0;
                left: 0;
                font-size: 13px;

            }

            .menu {

                display: flex;
                flex-direction: column;
                align-items: center;
                margin-top: 180px;
                margin-bottom: 70px;
                font-size: 20px;
                color: black;

            }

            .menu-item {

                background: #e3c5a3;
                border-radius: 10px;
                margin: 25px;
                padding: 20px;
                width: 200px;
                transition: transform 0.3s;

            }

            .menu-item:hover {

                transform: scale(1.05);

            }

            .menu-item p {

                font-size: 18px;

            }

            img {

                width: 100%;
                height: 160px;
                border-radius: 10px;

            }

            button {

                background: #3cd3de;
                color: black;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                transition: background 0.3s;
                font-size: 17px;

            }

            button:hover {

                background: #3cd3de79;

            }

            h2 {

                font-size: 23px;
            }

            .popup {

                max-height: 70vh; /* Limit max height on mobile */
                width: 80%;

            }

            .popup input,
            .popup textarea {

                width: 70%;
                padding: 10px;
                margin: 5px 0;
                border: 1px solid #ccc;
                border-radius: 5px;

            }

            .popup button {

                color: black;
                background: #3cd3de;
                margin-top: 10px;

            }

            .popup.failure {

                background: #f8d7da;

            }

            .popup.success {

                background: #d4edda;

            }

            #backToTop {

                background: #e3c5a3;
                position: fixed;
                width: 10%;
                bottom: 0;
                right: 0;
                margin-right: 18px;
                margin-bottom: 190px;
                display: none;
                color: black;
                border: none;
                padding: 10px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 8px;
                z-index: 1000;

            }

            #backToTop:hover {

                background-color: #e3c5a379;

            }

            .menupage {

                background: #e3c5a3;
                position: fixed;
                width: 11%;
                bottom: 0;
                right: 0;
                margin-right: 20px;
                margin-bottom: 140px;
                color: black;
                border: none;
                padding: 10px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 9px;
                z-index: 1000;

            }

            .menuupage:hover {

                background: #e3c5a379;

            }

        }

    </style>

</head>

<body>
    
    <header>

        <a href="index.html" class="header-link">

            <img src="01. images/jesuslogo_enef.png" title="Jesus loves food">

        </a>

    </header>

    <div class="menu">

        <div class="menu-item">

            <img src="01. images/pap_wors_beans.jpg" alt="pasta mac" title="hmmm... yummy!">
            <h2>Pap, Wors & Beans Curry</h2>
            <p class="price">price: R25</p>
            <p>details: pap, steak, wors, sambles, coleslaw.</p>
            <button onclick="showOrderForm('pap, wors & beans curry', 'R25', 'pap, steak, wors, sambles', '01. images/pap_wors_beans.jpg')" id="ordernow" title="click to order now">order now</button>

        </div>

        <!-- <div class="menu-item">

            <img src="01. images/papsteakwors.jpg" alt="pasta mac" title="bull.">
            <h2>Pap, Steak & Wors</h2>
            <p class="price">price: R50</p>
            <p>details: pap, steak, wors, sambles, coleslaw</p>
            <button onclick="showOrderForm('pap, steak & wors', 'R50', 'pap, steak, wors, sambles', '01. images/papsteakwors.jpg')" id="ordernow" title="click to order now">order now</button>

        </div> -->

        <!-- <div class="menu-item">

            <img src="images/cooee.jpg" alt="pasta mac">
            <h2>grape coo-ee</h2>
            <p class="price">price: R8</p>
            <p>details: small 500ml grape coo-ee</p>
            <button onclick="showOrderForm('grape coo-ee', 'R8', 'small 500ml grape coo-ee.', 'images/cooee.jpg')" id="ordernow" title="click to order now">order now</button>

        </div> -->

    </div>

    <div class="popup" id="orderForm">
        <h2>Order Details</h2>

        <button type="button" class="close-btn" onclick="closeForm()" title="Close">X</button>
    
        <form id="orderDetails" action="https://formspree.io/f/manqrkpv" method="POST" onsubmit="return validateForm()">
            <input type="hidden" name="item" id="item">
            <input type="hidden" name="price" id="price">
            <input type="hidden" name="details" id="details">
    
            <!-- Name Field -->
            <label for="name">Your Name:</label>
            <input type="text" name="name" id="name" required>
            <br>
            <span id="nameError" class="error-message" style="color: red; display: none;">Please enter your name.</span>
    
            <!-- Phone Field -->
            <label for="phone">Your Phone Number:</label>
            <input type="text" name="phone" id="phone" required>
            <br>
            <span id="phoneError" class="error-message" style="color: red; display: none;">Please enter a valid phone number (only numbers).</span>
    
            <!-- Email Field -->
            <label for="email">Your Email:</label>
            <input type="email" name="email" id="email" required>
            <br>
            <span id="emailError" class="error-message" style="color: red; display: none;">Please enter a valid email address.</span>
    
            <!-- Location -->
            <label for="company">Location:</label>
            <p>on our next update, you will be able to choose your precise location. please be patient with us as our software development team fine-tunes this. meanwhile, please choose from the list of options down below on the dropdown, and we will contact you for a precise location.</p>
            <select name="company" id="company" required>
                <option value="cbd">Durban CBD - The Market</option>
                <option value="cbd">Durban CBD - Harbour Side</option>
                <option value="cbd">Durban CBD - Workshop Side</option>
            </select>
            <br>
            <span id="companyError" class="error-message" style="color: red; display: none;">Please select a company.</span>

            <!-- Quantity Field -->
            <label for="quantity">Quantity/How Many?:</label>
            <input type="number" name="quantity" id="quantity" required>
            <br>
            <span id="quantity" class="error-message" style="color: red; display: none;">How many of this do you want to order?</span>
    
            <!-- Additional Details -->
            <label for="details">Anything else?/Personalisation:</label>
            <input type="text" name="details" id="details" required>
            <br>
            <span id="detailsError" class="error-message" style="color: red; display: none;">Please enter any additional details.</span>

            <p>Disclaimer: CASH-ONLY (for now)</p>
    
            <!-- Submit and Cancel Buttons -->
            <button type="submit" title="Click now to submit your order">Submit Order</button>
            <button type="button" onclick="closeForm()" title="Cancel">Cancel</button>
        </form>
    </div>
    
    <!-- Popup message for submission feedback -->
    <div class="popup" id="popupMessage" style="display:none;"></div>

        <a href="menupage.html">
        
            <button class="menupage" title="Menu Page">main menu</button>
    
            </a>

            <button id="backToTop" title="back to top">back to top</button>

            <img src="01. images/jesuslogo_black.png" class="bodylogoimage" title="peace be still">

            <!-- // reload page -->

        <audio autoplay src="03. music/gladiator1.mp3" type="audio/mp3"></audio>

    <footer> &copy; 2025 parables & platters (pty) ltd. all rights reserved. </footer>

    <script>

        // Function to show the order form popup
        
        function showOrderForm(itemName, itemPrice, itemDetails, itemImage) {

            document.getElementById('item').value = itemName;
            document.getElementById('price').value = itemPrice;
            document.getElementById('details').value = itemDetails;
            document.getElementById('orderForm').style.display = 'block';

        }

        // Function to close the order form popup
        function closeForm() {

            document.getElementById('orderForm').style.display = 'none';

        }

        // Function to handle form submission
        document.getElementById('orderDetails').addEventListener('submit', function(event) {

            event.preventDefault(); // Prevent default form submission

            fetch(this.action, {
                method: this.method,
                body: new FormData(this),
                headers: {
                    'Accept': 'application/json'
                }
            }).then(response => {
                if (response.ok) {
                    showPopup("order placed successfully!", false);
                    this.reset(); // reset form
                    closeForm(); // close form after successful submission
                } else {
                    throw new Error('network response was not ok.');
                }
            }).catch(error => {
                showPopup("there was a problem with your submission. please try again.", true);
            });

        });

        // Function to show success and failure popups
        function showPopup(message, isFailure) {

            const popup = document.getElementById('popupMessage');
            popup.textContent = message;
            popup.style.display = 'block';
            popup.className = isFailure ? 'popup failure' : 'popup success';

            // Hide popup after a few seconds
            setTimeout(() => {
                popup.style.display = 'none';
            }, 4000); // Adjust timeout duration as needed

        }

        const backToTopButton = document.getElementById("backToTop");

        window.addEventListener("scroll", () => {
            if (window.scrollY > 300) { // Show button after scrolling 300px
            backToTopButton.style.display = "block";
            } else {
            backToTopButton.style.display = "none";
            }
        });

        backToTopButton.addEventListener("click", () => {
            window.scrollTo({
            top: 0,
            behavior: "smooth",
            });
        });
        
    </script>

</body>

</html>

<!-- I wanna add order number here for the customer. unique. error handling - robustness - efficient - must be able to copy order number once placed order successfully. and then we will get in touch with the customer regarding their order using the information that they provided. -->

 





--

<!-- To implement a unique order number for customers upon successful order submission, we can generate a random order number, display it in the success popup, and allow the user to copy it for future reference. We will also ensure error handling and that the order number is associated with the user's order.

Here's how you can modify your code to achieve this:

Key Additions:
Order Number Generation: We'll generate a unique order number when the order is successfully placed.

Display Order Number: Once the order is placed successfully, the order number will be shown in the popup.

Copy Order Number: Add a button to allow the customer to copy the order number.

Update the Form: Display the order number in the success popup.

Here's how you can modify your current code to implement the order number feature:

Step 1: Modify the Success Popup to Include the Order Number
Add a new section in the success popup that displays the order number and includes a copy button.

html
Copy
Edit
<div class="popup" id="popupMessage" style="display:none;">
    <p id="popupMessageText"></p>
    <button id="copyOrderNumber" style="display:none;" onclick="copyOrderNumber()">Copy Order Number</button>
</div>
Step 2: Modify the JavaScript to Generate the Order Number and Handle Copying
Update the JavaScript to generate a unique order number and display it in the popup.

javascript
Copy
Edit
// Function to handle form submission
document.getElementById('orderDetails').addEventListener('submit', function(event) {

    event.preventDefault(); // Prevent default form submission

    fetch(this.action, {
        method: this.method,
        body: new FormData(this),
        headers: {
            'Accept': 'application/json'
        }
    }).then(response => {
        if (response.ok) {
            const orderNumber = generateOrderNumber(); // Generate unique order number
            showPopup(`Order placed successfully! Your order number is: ${orderNumber}`, false);
            this.reset(); // reset form
            closeForm(); // close form after successful submission
        } else {
            throw new Error('Network response was not ok.');
        }
    }).catch(error => {
        showPopup("There was a problem with your submission. Please try again.", true);
    });

});

// Function to generate a unique order number
function generateOrderNumber() {
    const prefix = "ORD";
    const date = new Date();
    const timestamp = date.getTime();
    const randomNum = Math.floor(Math.random() * 10000);
    return `${prefix}-${timestamp}-${randomNum}`;
}

// Function to show success and failure popups
function showPopup(message, isFailure) {
    const popup = document.getElementById('popupMessage');
    const copyButton = document.getElementById('copyOrderNumber');
    popup.textContent = message;
    
    if (message.includes("Your order number is:")) {
        // If the message contains an order number, show the copy button
        copyButton.style.display = 'block';
    } else {
        copyButton.style.display = 'none';
    }

    popup.style.display = 'block';
    popup.className = isFailure ? 'popup failure' : 'popup success';

    // Hide popup after a few seconds
    setTimeout(() => {
        popup.style.display = 'none';
    }, 4000); // Adjust timeout duration as needed
}

// Function to copy the order number to clipboard
function copyOrderNumber() {
    const popupMessageText = document.getElementById('popupMessageText').textContent;
    const orderNumber = popupMessageText.match(/Your order number is: (.+)/)[1];
    
    const textArea = document.createElement('textarea');
    textArea.value = orderNumber;
    document.body.appendChild(textArea);
    textArea.select();
    document.execCommand('copy');
    document.body.removeChild(textArea);

    alert("Order number copied to clipboard!");
}
Key Changes in the JavaScript:
generateOrderNumber(): A function to create a unique order number by combining a prefix (ORD), timestamp (to make it unique), and a random number.

showPopup(): If the order number is generated, the popup message will display it and show a "Copy Order Number" button.

copyOrderNumber(): This function allows the user to copy the generated order number to the clipboard.

Step 3: Display the Order Number in the Success Popup
Modify the showPopup() function to display the order number in the popup message. If the order is placed successfully, the popup will show something like this:

"Order placed successfully! Your order number is: ORD-1619180289573-1234"

The "Copy Order Number" button will allow the user to copy this order number.

With these changes, when a customer places an order, they will be shown a unique order number that they can copy for future reference. The order number is tied to their submission, and this can be used later for tracking or contact purposes.

Let me know if you need further help with this!
 -->
















